(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{22:function(e,t,a){e.exports=a(33)},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=a(6),m=a(1),s=(a(27),function(){return r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav__list"},r.a.createElement("li",{className:"nav__item"},r.a.createElement(o.b,{to:"/",exact:!0,className:"nav__link",activeClassName:"nav__link--active"},"Home")),r.a.createElement("li",{className:"nav__item"},r.a.createElement(o.b,{to:"/people",className:"nav__link",activeClassName:"nav__link--active"},"People"))))}),u=a(17),i=a(12),p=a(10),b=a(16),_=a.n(b),E=function(e){var t=e.people,a=Object(m.g)(),n=Object(m.i)().personSlug,l=Object(m.h)(),c=new URLSearchParams(l.search).get("query")||"",o=new RegExp(c,"i"),s=t.filter((function(e){return o.test(e.name+e.motherName+e.fatherName)}));return r.a.createElement(r.a.Fragment,null,s.map((function(e){return r.a.createElement("tr",{key:e.id,className:_()({table__person:!0,"table__person--active":n===e.slug}),onClick:function(){return t=e.slug,void a.push({pathname:"/people/".concat(t)});var t}},r.a.createElement("td",{className:"table__row table__row-id"},e.id),r.a.createElement("td",{className:"table__row"},e.name),r.a.createElement("td",{className:_()({table__row:!0,"table__row-woman":"f"===e.sex,"table__row-man":"m"===e.sex})},e.sex),r.a.createElement("td",{className:"table__row"},e.born),r.a.createElement("td",{className:"table__row"},e.died),r.a.createElement("td",{className:"table__row table__row-woman"},e.motherName||"\u2013"),r.a.createElement("td",{className:"table__row table__row-man"},e.fatherName||"\u2013"))})))},h=function(e){var t=e.prepearedPeople,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],o=l[1],s=Object(m.g)(),u=Object(m.h)(),b=new URLSearchParams(u.search),_=b.get("query")||"",h=b.get("sortBy")||"",d=Object(n.useMemo)((function(){return function(e,t){switch(t){case"Born":return Object(p.a)(e).sort((function(e,t){return e.born-t.born}));case"Died":return Object(p.a)(e).sort((function(e,t){return e.died-t.died}));case"Name":return Object(p.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)}));case"Sex":return Object(p.a)(e).sort((function(e,t){return e.sex.localeCompare(t.sex)}));default:return e}}(t,c)}),[c,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:_,className:"search-field",placeholder:"find person...",onChange:function(e){b.set("query",e.target.value),s.push({search:b.toString()})}}),r.a.createElement("table",{className:"people__table"},r.a.createElement("thead",null,r.a.createElement("tr",null,["ID","Name","Sex","Born","Died","Mother","Father"].map((function(e){return r.a.createElement("th",{key:e,className:"table__header"},r.a.createElement("button",{type:"button",className:"table__button",onClick:function(){return function(e){o(e),b.set("sortBy","".concat(e)),s.push({search:b.toString()})}(e)}},e,r.a.createElement("span",null,h===e?"*":"")))})))),r.a.createElement("tbody",null,r.a.createElement(E,{people:d}))))},d=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then(l)}),[]);var c=a.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:t+1})}));return r.a.createElement("div",null,r.a.createElement("h1",null,"People table"),r.a.createElement(h,{prepearedPeople:c}))},f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement(s,null)),r.a.createElement("main",{className:"main"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:function(){return r.a.createElement("h2",null,"Home")}}),r.a.createElement(m.a,{from:"/home",to:"/"}),r.a.createElement(m.b,{path:"/people/:personSlug?",component:d}),r.a.createElement(m.b,{component:function(){return r.a.createElement("h1",null,"Page not found")}}))))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(f,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.85b46f25.chunk.js.map